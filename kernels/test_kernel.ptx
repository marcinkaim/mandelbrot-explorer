//------------------------------------------------------------------------------
//  Mandelbrot Explorer
//  Copyright (C) 2026 Marcin Kaim
//
//  This program is free software: you can redistribute it and/or modify
//  it under the terms of the GNU General Public License as published by
//  the Free Software Foundation, either version 3 of the License, or
//  (at your option) any later version.
//
//  This program is distributed in the hope that it will be useful,
//  but WITHOUT ANY WARRANTY; without even the implied warranty of
//  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
//  GNU General Public License for more details.
//
//  You should have received a copy of the GNU General Public License
//  along with this program.  If not, see <https://www.gnu.org/licenses/>.
//------------------------------------------------------------------------------

.version 7.0
.target sm_50
.address_size 64

// Kernel: test_inc
.visible .entry test_inc(
    .param .u64 param_data_ptr
)
{
    .reg .u64 %ptr;
    .reg .u32 %val;

    ld.param.u64 %ptr, [param_data_ptr];
    
    ld.global.u32 %val, [%ptr];
    add.u32       %val, %val, 1;
    st.global.u32 [%ptr], %val;

    ret;
}